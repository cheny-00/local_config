# SeaweedFS S3 保护配置
# 复制到 /etc/fail2ban/jail.d/seaweedfs-s3.conf
# 需要先复制 filter: fail2ban/filter.d/seaweedfs-s3.conf

[seaweedfs-s3]
enabled = true
port = 8333
filter = seaweedfs-s3
action = iptables-allports[name=seaweedfs-s3]
         discord-webhook[webhook_url="YOUR_DISCORD_WEBHOOK_URL"]

# SeaweedFS 日志路径（根据实际部署修改）
logpath = /var/log/seaweedfs/s3.log
# Docker 部署示例：
# logpath = /home/user/docker/seaweedfs/logs/s3.log

# 非常严格（S3 密钥错误不应该频繁发生）
maxretry = 2       # 2 次失败即封禁
bantime = 28800    # 封禁 8 小时
findtime = 3600    # 1 小时内
